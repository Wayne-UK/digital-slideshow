function slideshow(e){var t={rootElement:e.rootElement,width:e.w?e.w:1024,height:e.h?e.h:400,stepInterval:e.stepInterval?e.stepInterval:1e3,autoplayInterval:e.autoplayInterval?e.autoplayInterval:5e3,pauseInterval:e.pauseInterval?e.pauseInterval:1e4,autoplay:e.autoplay?e.autoplay:false,timer:null,actualSlideIndex:0,prevSlideIndex:0,numSlides:0,init:function(){$("#"+t.rootElement+", #"+t.rootElement+" .slides").css("width",t.width);$("#"+t.rootElement+" .slides").css("height",t.height);t.countSlides();t.initArrows();t.initNavigation();t.initAutoplay();t.animateSlide()},initAutoplay:function(){if(t.timer){clearInterval(t.timer)}if(t.autoplay){t.timer=setInterval(t.player,t.autoplayInterval)}},initArrows:function(){$("#"+t.rootElement+" .slides").append('<a href="javascript:void(0);" class="arrow_right" ></a>');$("#"+t.rootElement+" .slides").find(".arrow_right").click(function(){t.nextSlide()});$("#"+t.rootElement+" .slides").append('<a href="javascript:void(0);" class="arrow_left" ></a>');$("#"+t.rootElement+" .slides").find(".arrow_left").click(function(){t.prevSlide()})},hideArrows:function(){$("#"+t.rootElement+" .slides .arrow_right").animate({opacity:"hide"},t.stepIterval,"linear");$("#"+t.rootElement+" .slides .arrow_left").animate({opacity:"hide"},t.stepIterval,"linear")},initNavigation:function(){var e="";for(var n=0;n<t.numSlides;n++){if(n==0){e="pick_active"}else{e="pick_unactive"}$("#"+t.rootElement+" .navigation").append('<a href="javascript:void(0);" data-index="'+n+'" class="'+e+'"></a>')}$("#"+t.rootElement+" .navigation a").click(function(){t.showSlide($(this).attr("data-index"))})},player:function(){if(t.actualSlideIndex<t.numSlides-1){t.prevSlideIndex=t.actualSlideIndex;t.actualSlideIndex+=1}else{t.prevSlideIndex=t.actualSlideIndex;t.actualSlideIndex=0}t.animateSlide()},pause:function(){if(t.autoplay){if(t.timer){clearInterval(t.timer)}t.timer=setInterval(t.initAutoplay,t.pauseInterval)}},checkArrows:function(){if(t.actualSlideIndex==t.numSlides-1){$("#"+t.rootElement+" .slides .arrow_right").animate({opacity:"hide"},t.stepIterval,"linear")}else{$("#"+t.rootElement+" .slides .arrow_right").animate({opacity:"show"},t.stepIterval,"linear")}if(t.actualSlideIndex==0){$("#"+t.rootElement+" .slides .arrow_left").animate({opacity:"hide"},t.stepIterval,"linear")}else{$("#"+t.rootElement+" .slides .arrow_left").animate({opacity:"show"},t.stepIterval,"linear")}},nextSlide:function(){t.prevSlideIndex=t.actualSlideIndex;if(t.actualSlideIndex<t.numSlides-1){t.actualSlideIndex+=1}if(t.prevSlideIndex!=t.actualSlideIndex){t.animateSlide()}t.pause()},prevSlide:function(){t.prevSlideIndex=t.actualSlideIndex;if(t.actualSlideIndex>0){t.actualSlideIndex-=1}if(t.prevSlideIndex!=t.actualSlideIndex){t.animateSlide()}t.pause()},showSlide:function(e){t.prevSlideIndex=t.actualSlideIndex;t.actualSlideIndex=parseInt(e);if(t.prevSlideIndex!=t.actualSlideIndex){t.animateSlide()}t.pause()},setNavigation:function(){if($("#"+t.rootElement+" .navigation")){var e=0;var n=t.actualSlideIndex;$("#"+t.rootElement+" .navigation a").each(function(){if(e==n){$(this).attr("class","slide_active")}else{$(this).attr("class","slide_unactive")}e++})}},animateSlide:function(){t.hideArrows();t.isAnimating=true;t.setNavigation();$("#"+t.rootElement+" .slides img").eq(t.prevSlideIndex).css("width",t.width);$("#"+t.rootElement+" .slides img").eq(t.prevSlideIndex).css("height",t.height);$("#"+t.rootElement+" .slides img").eq(t.prevSlideIndex).animate({opacity:"hide",width:t.width,height:t.height},t.stepInterval*.3,"linear");$("#"+t.rootElement+" .slides img").eq(t.actualSlideIndex).css("width",t.width);$("#"+t.rootElement+" .slides img").eq(t.actualSlideIndex).css("height",t.height);$("#"+t.rootElement+" .slides img").eq(t.actualSlideIndex).animate({opacity:"show",width:t.width,height:t.height},t.stepInterval,"linear",function(){t.checkArrows()});t.showDescription()},showDescription:function(){var e=$("#"+t.rootElement+" .slides img ").eq(t.actualSlideIndex).attr("data-label");var n=$("#"+t.rootElement+" .slides img ").eq(t.actualSlideIndex).attr("data-text");$("#"+t.rootElement+" .description").animate({opacity:"hide"},t.stepInterval*.3,"linear");if(e&&n){$("#"+t.rootElement+" .description").html("<h1>"+e+"</h1><p>"+n+"</p>");$("#"+t.rootElement+" .description").animate({opacity:"show"},t.stepInterval,"linear")}},countSlides:function(){var e=0;$("#"+t.rootElement+" .slides img").each(function(){e++});t.numSlides=e}};t.init();return t}